{"ast":null,"code":"import _objectSpread from\"/Users/charanpr/Downloads/EventManagementDashboard-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../styles/Attendees.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Attendees=()=>{const[attendees,setAttendees]=useState([]);const[events,setEvents]=useState([]);const[tasks,setTasks]=useState([]);const[newAttendee,setNewAttendee]=useState({name:\"\",eventName:\"\",taskName:\"\"});// Fetch attendees from the server\nconst fetchAttendees=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/getAttendees\");console.log(response.data);setAttendees(response.data);}catch(error){console.error(\"Error fetching attendees:\",error);}};// Fetch events from the server\nconst fetchEvents=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/getEvents\");setEvents(response.data);}catch(error){console.error(\"Error fetching events:\",error);}};// Fetch tasks from the server\nconst fetchTasks=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/getTasks\");setTasks(response.data);}catch(error){console.error(\"Error fetching tasks:\",error);}};// Add a new attendee\nconst addAttendee=async()=>{if(newAttendee.name===\"\"||newAttendee.eventName===\"\"||newAttendee.taskName===\"\"){alert(\"Field is missing\");return;}try{console.log(newAttendee);const data=await axios.post(\"http://localhost:5000/api/postAttendee\",newAttendee);console.log(\"Data Received \",data);fetchAttendees();setNewAttendee({name:\"\",eventName:\"\",taskName:\"\"});}catch(error){console.error(\"Error adding attendee:\",error);}};// Delete an attendee\nconst deleteAttendee=async name=>{try{await axios.delete(\"http://localhost:5000/api/deleteAttendee\",{data:{name:name}});fetchAttendees();}catch(error){console.error(\"Error deleting attendee:\",error);}};useEffect(()=>{fetchAttendees();fetchEvents();fetchTasks();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Attendees Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-attendee\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Attendee\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Attendee Name\",value:newAttendee.name,onChange:e=>setNewAttendee(_objectSpread(_objectSpread({},newAttendee),{},{name:e.target.value}))}),/*#__PURE__*/_jsxs(\"select\",{value:newAttendee.eventName,onChange:e=>setNewAttendee(_objectSpread(_objectSpread({},newAttendee),{},{eventName:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Event\"}),events.map(event=>/*#__PURE__*/_jsx(\"option\",{value:event.name,children:event.name},event._id))]}),/*#__PURE__*/_jsxs(\"select\",{value:newAttendee.taskName,onChange:e=>setNewAttendee(_objectSpread(_objectSpread({},newAttendee),{},{taskName:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Task\"}),tasks.map(task=>/*#__PURE__*/_jsx(\"option\",{value:task.name,children:task.name},task._id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:addAttendee,children:\"Add\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"attendee-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Attendees List\"}),attendees.map(attendee=>/*#__PURE__*/_jsxs(\"div\",{className:\"attendee-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:attendee.name}),/*#__PURE__*/_jsx(\"span\",{children:attendee.eventName||\"No Event\"}),/*#__PURE__*/_jsx(\"span\",{children:attendee.taskName||\"No Task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteAttendee(attendee.name),children:\"Delete\"})]},attendee._id))]})]});};export default Attendees;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Attendees","attendees","setAttendees","events","setEvents","tasks","setTasks","newAttendee","setNewAttendee","name","eventName","taskName","fetchAttendees","response","get","console","log","data","error","fetchEvents","fetchTasks","addAttendee","alert","post","deleteAttendee","delete","className","children","type","placeholder","value","onChange","e","_objectSpread","target","map","event","_id","task","onClick","attendee"],"sources":["/Users/charanpr/Downloads/EventManagementDashboard-main/frontend/src/Pages/Attendees.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/Attendees.css\";\n\nconst Attendees = () => {\n  const [attendees, setAttendees] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [newAttendee, setNewAttendee] = useState({ name: \"\", eventName: \"\", taskName: \"\" });\n\n  // Fetch attendees from the server\n  const fetchAttendees = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:5000/api/getAttendees\");\n      console.log(response.data);\n      setAttendees(response.data);\n    } catch (error) {\n      console.error(\"Error fetching attendees:\", error);\n    }\n  };\n\n  // Fetch events from the server\n  const fetchEvents = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:5000/api/getEvents\");\n      setEvents(response.data);\n    } catch (error) {\n      console.error(\"Error fetching events:\", error);\n    }\n  };\n\n  // Fetch tasks from the server\n  const fetchTasks = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:5000/api/getTasks\");\n      setTasks(response.data);\n    } catch (error) {\n      console.error(\"Error fetching tasks:\", error);\n    }\n  };\n\n  // Add a new attendee\n  const addAttendee = async () => {\n\n    if(newAttendee.name===\"\"||newAttendee.eventName===\"\"||newAttendee.taskName===\"\")\n    {\n      alert(\"Field is missing\");\n      return ;\n    }\n    try {\n      console.log(newAttendee);\n      const data=await axios.post(\"http://localhost:5000/api/postAttendee\",newAttendee);\n      console.log(\"Data Received \",data);\n      fetchAttendees();\n      setNewAttendee({ name: \"\", eventName: \"\", taskName: \"\" });\n    } catch (error) {\n      console.error(\"Error adding attendee:\", error);\n    }\n  };\n\n  // Delete an attendee\n  const deleteAttendee = async (name) => {\n    try {\n      await axios.delete(\"http://localhost:5000/api/deleteAttendee\", {\n        data: { name: name },\n      });\n      fetchAttendees();\n    } catch (error) {\n      console.error(\"Error deleting attendee:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchAttendees();\n    fetchEvents();\n    fetchTasks();\n  }, []);\n\n  return (\n    <div className=\"dashboard\">\n      <h1>Attendees Dashboard</h1>\n\n      <div className=\"add-attendee\">\n        <h2>Add Attendee</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Attendee Name\"\n          value={newAttendee.name}\n          onChange={(e) => setNewAttendee({ ...newAttendee, name: e.target.value })}\n        />\n\n        <select\n          value={newAttendee.eventName}\n          onChange={(e) => setNewAttendee({ ...newAttendee, eventName: e.target.value })}\n        >\n          <option value=\"\">Select Event</option>\n          {events.map((event) => (\n            <option key={event._id} value={event.name}>\n              {event.name}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={newAttendee.taskName}\n          onChange={(e) => setNewAttendee({ ...newAttendee, taskName: e.target.value })}\n        >\n          <option value=\"\">Select Task</option>\n          {tasks.map((task) => (\n            <option key={task._id} value={task.name}>\n              {task.name}\n            </option>\n          ))}\n        </select>\n\n        <button onClick={addAttendee}>Add</button>\n      </div>\n\n      <div className=\"attendee-list\">\n        <h2>Attendees List</h2>\n        {attendees.map((attendee) => (\n          <div key={attendee._id} className=\"attendee-item\">\n            <span>{attendee.name}</span>\n            <span>{attendee.eventName || \"No Event\"}</span>\n            <span>{attendee.taskName || \"No Task\"}</span>\n            <button onClick={() => deleteAttendee(attendee.name)}>Delete</button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Attendees;\n"],"mappings":"qJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,CAAEgB,IAAI,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAEzF;AACA,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,wCAAwC,CAAC,CAC1EC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC,CAC1Bf,YAAY,CAACW,QAAQ,CAACI,IAAI,CAAC,CAC7B,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAAC,CAED;AACA,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,qCAAqC,CAAC,CACvEV,SAAS,CAACS,QAAQ,CAACI,IAAI,CAAC,CAC1B,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED;AACA,KAAM,CAAAE,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,oCAAoC,CAAC,CACtER,QAAQ,CAACO,QAAQ,CAACI,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED;AACA,KAAM,CAAAG,WAAW,CAAG,KAAAA,CAAA,GAAY,CAE9B,GAAGd,WAAW,CAACE,IAAI,GAAG,EAAE,EAAEF,WAAW,CAACG,SAAS,GAAG,EAAE,EAAEH,WAAW,CAACI,QAAQ,GAAG,EAAE,CAC/E,CACEW,KAAK,CAAC,kBAAkB,CAAC,CACzB,OACF,CACA,GAAI,CACFP,OAAO,CAACC,GAAG,CAACT,WAAW,CAAC,CACxB,KAAM,CAAAU,IAAI,CAAC,KAAM,CAAAtB,KAAK,CAAC4B,IAAI,CAAC,wCAAwC,CAAChB,WAAW,CAAC,CACjFQ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAACC,IAAI,CAAC,CAClCL,cAAc,CAAC,CAAC,CAChBJ,cAAc,CAAC,CAAEC,IAAI,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC3D,CAAE,MAAOO,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED;AACA,KAAM,CAAAM,cAAc,CAAG,KAAO,CAAAf,IAAI,EAAK,CACrC,GAAI,CACF,KAAM,CAAAd,KAAK,CAAC8B,MAAM,CAAC,0CAA0C,CAAE,CAC7DR,IAAI,CAAE,CAAER,IAAI,CAAEA,IAAK,CACrB,CAAC,CAAC,CACFG,cAAc,CAAC,CAAC,CAClB,CAAE,MAAOM,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CAEDxB,SAAS,CAAC,IAAM,CACdkB,cAAc,CAAC,CAAC,CAChBO,WAAW,CAAC,CAAC,CACbC,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACErB,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB9B,IAAA,OAAA8B,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAE5B5B,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B9B,IAAA,OAAA8B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB9B,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAEvB,WAAW,CAACE,IAAK,CACxBsB,QAAQ,CAAGC,CAAC,EAAKxB,cAAc,CAAAyB,aAAA,CAAAA,aAAA,IAAM1B,WAAW,MAAEE,IAAI,CAAEuB,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAC3E,CAAC,cAEF/B,KAAA,WACE+B,KAAK,CAAEvB,WAAW,CAACG,SAAU,CAC7BqB,QAAQ,CAAGC,CAAC,EAAKxB,cAAc,CAAAyB,aAAA,CAAAA,aAAA,IAAM1B,WAAW,MAAEG,SAAS,CAAEsB,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAAAH,QAAA,eAE/E9B,IAAA,WAAQiC,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,cAAY,CAAQ,CAAC,CACrCxB,MAAM,CAACgC,GAAG,CAAEC,KAAK,eAChBvC,IAAA,WAAwBiC,KAAK,CAAEM,KAAK,CAAC3B,IAAK,CAAAkB,QAAA,CACvCS,KAAK,CAAC3B,IAAI,EADA2B,KAAK,CAACC,GAEX,CACT,CAAC,EACI,CAAC,cAETtC,KAAA,WACE+B,KAAK,CAAEvB,WAAW,CAACI,QAAS,CAC5BoB,QAAQ,CAAGC,CAAC,EAAKxB,cAAc,CAAAyB,aAAA,CAAAA,aAAA,IAAM1B,WAAW,MAAEI,QAAQ,CAAEqB,CAAC,CAACE,MAAM,CAACJ,KAAK,EAAE,CAAE,CAAAH,QAAA,eAE9E9B,IAAA,WAAQiC,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,aAAW,CAAQ,CAAC,CACpCtB,KAAK,CAAC8B,GAAG,CAAEG,IAAI,eACdzC,IAAA,WAAuBiC,KAAK,CAAEQ,IAAI,CAAC7B,IAAK,CAAAkB,QAAA,CACrCW,IAAI,CAAC7B,IAAI,EADC6B,IAAI,CAACD,GAEV,CACT,CAAC,EACI,CAAC,cAETxC,IAAA,WAAQ0C,OAAO,CAAElB,WAAY,CAAAM,QAAA,CAAC,KAAG,CAAQ,CAAC,EACvC,CAAC,cAEN5B,KAAA,QAAK2B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9B,IAAA,OAAA8B,QAAA,CAAI,gBAAc,CAAI,CAAC,CACtB1B,SAAS,CAACkC,GAAG,CAAEK,QAAQ,eACtBzC,KAAA,QAAwB2B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC/C9B,IAAA,SAAA8B,QAAA,CAAOa,QAAQ,CAAC/B,IAAI,CAAO,CAAC,cAC5BZ,IAAA,SAAA8B,QAAA,CAAOa,QAAQ,CAAC9B,SAAS,EAAI,UAAU,CAAO,CAAC,cAC/Cb,IAAA,SAAA8B,QAAA,CAAOa,QAAQ,CAAC7B,QAAQ,EAAI,SAAS,CAAO,CAAC,cAC7Cd,IAAA,WAAQ0C,OAAO,CAAEA,CAAA,GAAMf,cAAc,CAACgB,QAAQ,CAAC/B,IAAI,CAAE,CAAAkB,QAAA,CAAC,QAAM,CAAQ,CAAC,GAJ7Da,QAAQ,CAACH,GAKd,CACN,CAAC,EACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAArC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}